<!--
_     _____ _ _ ____               _
| |   |  ___/ / |___ \   _ __   ___| |_
| |   | |_  | | | __) | | '_ \ / _ \ __|
| |___|  _| | | |/ __/ _| | | |  __/ |_
|_____|_|   |_|_|_____(_)_| |_|\___|\__|

 Made with love by LF112 [https://lf.tn]
 Authorï¼šLF112
 Author URIï¼šhttps://www.lf112.net
 Author QQ: 2275203821
-->
<script>

    console.clear();
    console.log('\n %c ğŸ‰BTCO %c https://github.com/LF112/BTCO %c BY%c LF112  \n\n', 'color: #ffffff; background: rgb(0, 145, 228); padding:5px 0;', 'background:rgba(197, 197, 197, 0.89); padding:5px 0;', 'color: #ffffff; background: rgba(49, 49, 49, 0.85); padding:5px 0;', 'color: rgb(0, 145, 228); background: rgba(49, 49, 49, 0.85); padding:5px 0;');
    parent.layer.closeAll();

    layer.msg('æ­£åœ¨å¤„ç† BTCO...', {time: 0})
    $.post("/plugin?action=a&s=BtcoInstallCheck&name=btco",{ },function(rdata){
        if(!rdata.status) {
            parent.layer.closeAll();
            let BtcoMainCss = '#BTCO{font-family:Titillium Web,-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Roboto,"PingFang SC","Hiragino Sans GB","Microsoft YaHei","Helvetica Neue",sans-serif;position:fixed;z-index:100000;left:0;top:0;height:100%;width:100%}.BTCO-ghost{position:absolute;left:0;top:0;width:100%;height:100%;opacity:.6}.BTCO_Wrapper{position:relative;width:525px;left:50%;top:50%;transform:translate(-50%,-50%);padding:0}.BTCO_Main{min-height:195px;background:#3c444d;border-radius:5px;box-shadow:-4px 7px 46px 2px rgba(60,68,77,.25)}.BTCO_Header{width:100%;height:35px;display:flex;flex-direction:row;flex-wrap:nowrap;flex-shrink:0;align-self:stretch;align-items:center}.BTCO_Header .BTCO_logo{display:block;position:relative;font-size:30px;line-height:1;letter-spacing:.02em;padding-top:3px}.BTCO_Header .BTCO_logo svg{padding:20px 20px;position:absolute;-webkit-box-sizing:unset!important;-moz-box-sizing:unset!important;box-sizing:unset!important}.BTCO_Header .BTCO_logo .BTCO_title{padding:0 0 0 50px;text-align:center;color:#fff}.BTCO_Header .BTCO_logo .BTCO_title a{display:inline-block;width:auto;user-select:none;padding-top:12px;font-size:10px;float:left}.BTCO_Header .BTCO_logo .BTCO_title h2{color:#fff;display:block;line-height:unset;font-size:1.5em;margin-block-start:.83em;margin-block-end:.83em}.BTCO_Header .BTCO_spacer{flex-grow:1;flex-shrink:0}.BTCO_Header .BTCO_menu{flex-direction:row;align-items:center;flex-shrink:0;display:flex;flex-wrap:nowrap}.BTCO_Header .BTCO_menu a{margin-top:15px;margin-right:15px;font-size:10px;color:#dcdcdc;text-decoration:none;outline:0}.BTCO_Header .BTCO_bottom{width:460px;position:absolute;margin-top:28px;border-radius:1%;border-bottom:2px solid #dcdfe6}main{position:absolute;width:513px;padding:20px 0 0 12px;display:flex;align-items:center}#LF112-Speech{z-index:10;margin-top:55px;position:absolute}#LF112-Speech .LF112-Speech_Row{display:flex;flex-direction:row;flex-wrap:nowrap;flex-shrink:0;box-sizing:border-box;align-self:stretch;align-items:center;height:54px;margin:0;padding:0 38px 0}#LF112-Speech .LF112-Speech_Row #LF112-FrameBox{width:425px;background:hsla(0,0%,100%,.35);color:hsla(0,0%,100%,.6);border-radius:2px 0 0 2px;margin:0 auto}#LF112-Speech .LF112-Speech_Row #LF112-FrameBox .LF112-Input{width:295px;display:inline-block;height:34px;line-height:34px;color:#fff;-webkit-box-flex:1;flex-grow:1;border:0;box-sizing:border-box;padding:0 5px;background:0 0;font-size:14px;min-width:144px;text-decoration:none;outline:0;border-radius:2px 0 0 2px}.LF112-Button{position:absolute;height:34px;line-height:34px;width:130px;min-width:60px;text-align:center;box-sizing:border-box;border-radius:0 2px 2px 0;background-color:#6b7179;color:#fff;font-size:12px;transition:all .2s;text-decoration:none}.LF112-Button:focus,.LF112-Button:hover{color:#fff;text-decoration:none}.LF112-Button:hover{box-shadow:0 0 0 1px #6b7179,0 1px 6px #6b7179;border-radius:2px;background-color:#6b7179;color:#e6e6e6}',
                BtcoMainHtml = '<div class="BTCO-ghost"></div><div class="BTCO_Wrapper" style="display:none"><div class="BTCO_Main"><div class="BTCO_Header"><div class="BTCO_logo"><svg viewBox="0 0 1024 1024" version="1.12" width="25" height="25"><path d="M791.583626 475.330846 548.665061 475.330846l0-242.922658 70.243831 70.247924 256.078283-153.647379L721.339796 405.087015 791.583626 475.330846zM278.646278 278.646278c-97.887424 97.887424-121.230062 241.906515-70.412676 362.010941l-42.574654 77.284177c-92.182492-154.825205-72.114434-357.908506 61.132312-491.150136C360.036983 93.544513 563.112098 73.476455 717.941396 165.654854l-77.284177 42.578748C520.552793 157.416216 376.533702 180.758853 278.646278 278.646278zM232.404094 548.666084l242.922658 0 0 242.922658-70.243831-70.247924L149.004639 874.988198l153.647379-256.078283L232.404094 548.666084zM745.346559 745.346559c98.2947-98.290607 121.373325-243.080248 69.734224-363.477338l42.637076-76.862575c92.900853 154.957211 73.030293 358.65245-60.516282 492.195955C663.658072 930.749176 459.962833 950.618713 305.006645 857.717859l76.862575-42.637076C502.266311 866.719884 647.054929 843.641259 745.346559 745.346559z" fill="#fff"></path></svg><div class="BTCO_title"><a><h2>BTCO.</h2></a></div></div><div class="BTCO_spacer"></div><div class="BTCO_menu"><a>ğŸ‰å®å¡”é¢æ¿å“åº”å¼è§£å†³æ–¹æ¡ˆ.</a></div><div class="BTCO_bottom"></div></div><main><p style="color:#fff;margin-left:13px;margin-top:20px;position:absolute">ç”¨ GitHub Star æˆæƒï¼š</p><div id="LF112-Speech"><div class="LF112-Speech_Row"><div id="LF112-FrameBox"><input id="BTCO-GithubNick" placeholder="è¯·è¾“å…¥æ‚¨çš„ GitHub æ˜µç§°" class="LF112-Input"> <a id="BTCO-Install" class="LF112-Button" href="javascript:;">æ£€æŸ¥å¹¶å®‰è£…</a></div></div></div><div style="position:absolute;padding-top:200px;padding-left:10px;display:inline-grid;font-size:12px;color:#fff"><span><a target="_blank" href="https://github.com/LF112/BTCO" style="text-decoration:none;color:#fff">- è¯·åˆ°è¯¥æ’ä»¶çš„ GitHub ç‚¹ Star. ã€Œç‚¹æˆ‘è·³è½¬ã€</a></span> <span>- è¯·ç¡®ä¿åœ¨éç”Ÿäº§ç¯å¢ƒä½¿ç”¨è¯¥æ’ä»¶</span></div></main></div></div>';
                BTCOAddIn(BtcoMainCss, BtcoMainHtml)
        }else{

            let BtcoMainCss = '#BTCO{font-family:Titillium Web,-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Roboto,"PingFang SC","Hiragino Sans GB","Microsoft YaHei","Helvetica Neue",sans-serif;position:fixed;z-index:100000;left:0;top:0;height:100%;width:100%}.BTCO-ghost{position:absolute;left:0;top:0;width:100%;height:100%;opacity:.6}.BTCO_Wrapper{position:relative;width:525px;left:50%;top:50%;transform:translate(-50%,-50%);padding:0}.BTCO_Main{min-height:195px;background:#3c444d;border-radius:5px;box-shadow:-4px 7px 46px 2px rgba(60,68,77,.25)}.BTCO_Header{width:100%;height:35px;display:flex;flex-direction:row;flex-wrap:nowrap;flex-shrink:0;align-self:stretch;align-items:center}.BTCO_Header .BTCO_logo{display:block;position:relative;font-size:30px;line-height:1;letter-spacing:.02em;padding-top:3px}.BTCO_Header .BTCO_logo svg{padding:20px 20px;position:absolute;-webkit-box-sizing:unset!important;-moz-box-sizing:unset!important;box-sizing:unset!important}.BTCO_Header .BTCO_logo .BTCO_title{padding:0 0 0 50px;text-align:center;color:#fff}.BTCO_Header .BTCO_logo .BTCO_title a{display:inline-block;width:auto;user-select:none;padding-top:12px;font-size:10px;float:left}.BTCO_Header .BTCO_logo .BTCO_title h2{color:#fff;display:block;line-height:unset;font-size:1.5em;margin-block-start:.83em;margin-block-end:.83em}.BTCO_Header .BTCO_spacer{flex-grow:1;flex-shrink:0}.BTCO_Header .BTCO_menu{flex-direction:row;align-items:center;flex-shrink:0;display:flex;flex-wrap:nowrap}.BTCO_Header .BTCO_menu a{margin-top:15px;margin-right:15px;font-size:10px;color:#dcdcdc;text-decoration:none;outline:0}.BTCO_Header .BTCO_bottom{width:460px;position:absolute;margin-top:28px;border-radius:1%;border-bottom:2px solid #dcdfe6}main{position:absolute;width:513px;padding:20px 0 0 12px;display:flex;align-items:center}#LF112-Speech{z-index:10;margin-top:55px;position:absolute}#LF112-Speech .LF112-Speech_Row{display:flex;flex-direction:row;flex-wrap:nowrap;flex-shrink:0;box-sizing:border-box;align-self:stretch;align-items:center;height:54px;margin:0;padding:0 38px 0}#LF112-Speech .LF112-Speech_Row #LF112-FrameBox{width:425px;background:hsla(0,0%,100%,.35);color:hsla(0,0%,100%,.6);border-radius:2px 0 0 2px;margin:0 auto}#LF112-Speech .LF112-Speech_Row #LF112-FrameBox .LF112-Input{width:295px;display:inline-block;height:34px;line-height:34px;color:#fff;-webkit-box-flex:1;flex-grow:1;border:0;box-sizing:border-box;padding:0 5px;background:0 0;font-size:14px;min-width:144px;text-decoration:none;outline:0;border-radius:2px 0 0 2px}.LF112-Button{position:absolute;height:34px;line-height:34px;width:130px;min-width:60px;text-align:center;box-sizing:border-box;border-radius:0 2px 2px 0;background-color:#6b7179;color:#fff;font-size:12px;transition:all .2s;text-decoration:none}.LF112-Button:focus,.LF112-Button:hover{color:#fff;text-decoration:none}.LF112-Button:hover{box-shadow:0 0 0 1px #6b7179,0 1px 6px #6b7179;border-radius:2px;background-color:#6b7179;color:#e6e6e6}',
                BtcoMainHtml = '<div class="BTCO-ghost"></div><div class="BTCO_Wrapper" style="display:none"><div class="BTCO_Main"><div class="BTCO_Header"><div class="BTCO_logo"><svg viewBox="0 0 1024 1024" version="1.12" width="25" height="25"><path d="M791.583626 475.330846 548.665061 475.330846l0-242.922658 70.243831 70.247924 256.078283-153.647379L721.339796 405.087015 791.583626 475.330846zM278.646278 278.646278c-97.887424 97.887424-121.230062 241.906515-70.412676 362.010941l-42.574654 77.284177c-92.182492-154.825205-72.114434-357.908506 61.132312-491.150136C360.036983 93.544513 563.112098 73.476455 717.941396 165.654854l-77.284177 42.578748C520.552793 157.416216 376.533702 180.758853 278.646278 278.646278zM232.404094 548.666084l242.922658 0 0 242.922658-70.243831-70.247924L149.004639 874.988198l153.647379-256.078283L232.404094 548.666084zM745.346559 745.346559c98.2947-98.290607 121.373325-243.080248 69.734224-363.477338l42.637076-76.862575c92.900853 154.957211 73.030293 358.65245-60.516282 492.195955C663.658072 930.749176 459.962833 950.618713 305.006645 857.717859l76.862575-42.637076C502.266311 866.719884 647.054929 843.641259 745.346559 745.346559z" fill="#fff"></path></svg><div class="BTCO_title"><a><h2>BTCO.</h2></a></div></div><div class="BTCO_spacer"></div><div class="BTCO_menu"><a>ğŸ‰å®å¡”é¢æ¿å“åº”å¼è§£å†³æ–¹æ¡ˆ.</a></div><div class="BTCO_bottom"></div></div><main><div style="width: 500px;margin-top: 67px;text-align: center;position: absolute;"><h2 style="margin: auto 0;color: #fff;" id="ThanksYou">(ï½¢ï½¥Ï‰ï½¥)ï½¢éå¸¸æ„Ÿè°¢æ‚¨çš„æ”¯æŒ</h2><div id="BtcoBottom" style="flex-direction: row;align-items: center;flex-shrink: 0;flex-wrap: nowrap;margin-top: 7px;"><a href="https://github.com/LF112/BTCO" target="_blank" style="margin: 0 10px;color: #fff;border: 0;text-decoration: none;">Stars: <span id="BTCOGithubStar">*</span></a><span style="color: #dcdcdc;">/</span><a href="https://lf.tn" target="_blank" style="margin: 0 10px;color: #fff;border: 0;text-decoration: none;">Made By LF112</a><span style="color: #dcdcdc;">/</span><a style="margin: 0 10px;color: #fff;border: 0;text-decoration: none;">See: <span id="BtcoUseCount">*</span></a><span style="color: #dcdcdc;">/</span><a href="javascript:;" id="BtcoUnInstall" style="margin: 0 10px;color: #fff;border: 0;text-decoration: none;">ç§»é™¤å®‰è£…</a></div></div></main></div></div>';

            if(rdata.msg == 'UnStar'){
                parent.layer.closeAll();
                BTCOAddIn(BtcoMainCss, BtcoMainHtml, true)
            }else{

                try{ licount();RunBtcoMain() }catch (e) {if (e) {
                    const BtcoUSECount = document.createElement('script');
                    BtcoUSECount.setAttribute('src', 'https://cdn.jsdelivr.net/gh/LF112/licount@1.0/licount.js');
                    document.getElementsByTagName('body')[0].appendChild(BtcoUSECount);
                    BtcoUSECount.onload = function() { RunBtcoMain() }
                }}

                function RunBtcoMain(){
                    $.get("https://api.github.com/repos/LF112/BTCO",function(rdata){
                        parent.layer.closeAll();
                        BTCOAddIn(BtcoMainCss, BtcoMainHtml, false, rdata.stargazers_count)
                    });
                }   

            }
        }

        function BTCOAddIn(BtcoMainCss, BtcoMainHtml, StarCheck, Star = 0){
            if (document.getElementById('BTCO') == null) {
                // å¯¼å…¥ CSS
                var BtcoCSS = document.createElement('style');
                BtcoCSS.innerHTML = BtcoMainCss;
                document.body.insertBefore(BtcoCSS, document.body.firstChild);

                var heads = document.getElementsByTagName('head');
                if (heads.length)
                    heads[0].appendChild(BtcoCSS);
                else
                    document.documentElement.appendChild(BtcoCSS);

                // å¯¼å…¥ Main
                var BtcoMain = document.createElement('div');
                BtcoMain.setAttribute('id', 'BTCO');
                BtcoMain.innerHTML = BtcoMainHtml;
                document.body.insertBefore(BtcoMain, document.body.firstChild);
                
                if(StarCheck){

                    $('#BtcoBottom').css({"display": "none"});
                    $("#ThanksYou").text('æ‚¨ä¼¼ä¹å–æ¶ˆäº†Star...');
                    setTimeout(function(){ 
                        $("#ThanksYou").text('æˆæƒå·²åœæ­¢ï¼Œè¯·é‡æ–°æˆæƒï¼');
                        $('.BTCO-ghost').on('click', function () { window.location.reload() });
                    },1500)

                }

                if(Star != 0) {
                    $('#BTCOGithubStar').text(Star);
                    licount({APPID:'wtwjciT6TbExSi8ycBr4mths-gzGzoHsz',APPKEY:'eS6MEQRmOox89KBjxGHhmX2Y',Main:[
                        ['BtcoUseCount','Add'],
                    ]});
                    
                    $('#BtcoUnInstall').on('click', function () {

                        layer.msg('æ­£åœ¨ç§»é™¤ BTCO...', {time: 0})
                        $.post("/plugin?action=a&s=BtcoRemove&name=btco",{ },function(rdata){
                            if(rdata.status) {
                                parent.layer.closeAll();
                                $("#ThanksYou").fadeOut(500);
                                setTimeout(function(){
                                    $("#ThanksYou").text('æ™šå®‰ï¼ŒBT-Panel.');
                                    $("#ThanksYou").fadeIn(500);
                                    setTimeout(function(){
                                        $("#ThanksYou").fadeOut(500);
                                        setTimeout(function(){
                                            $("#ThanksYou").text('å·²æˆåŠŸç§»é™¤ BTCO');
                                            $("#ThanksYou").fadeIn(500);
                                            $("#BtcoBottom").fadeOut(500);    
                                        },500);
                                    },500);
                                },500);
                                $('.BTCO-ghost').on('click', function () { window.location.reload() });
                            }else{
                                parent.layer.closeAll();
                                layer.msg('ç§»é™¤ BTCO å¤±è´¥äº†')
                            }
                        });
                        

                    });

                }

                $("#BTCO").css({display: "block"});
                $(".BTCO_Wrapper").fadeIn(500);
                $('.BTCO-ghost').on('click', function () {
                    $(".BTCO_Wrapper").fadeOut(500);
                    setTimeout(function () {
                        $("#BTCO").css({display: "none"});
                    }, 500);
                });
                $('.LF112-Input').keydown(function(e){
                    if(e.keyCode == 13){
                        $('#BTCO-Install').click();
                    }
                });
                $('#BTCO-Install').on('click', function () {
                    if($('#BTCO-Install').text() === 'æ­£åœ¨å®‰è£…') {
                        $('#BTCO-Install').text('è¯·ç­‰å¾…å®‰è£…ï¼');
                        $("#BTCO-Install").css({ "color": "rgb(253, 136, 136)" });
                        setTimeout(function(){
                            $('#BTCO-Install').text('æ­£åœ¨å®‰è£…');
                            $("#BTCO-Install").css({ "color": "rgb(136, 253, 141)" });
                        },1500)
                        return;
                    }
                    $('#BTCO-Install').text('è¯·ç¨ç­‰');
                    $("#BTCO-Install").css({
                        "background-color": "transparent",
                        "color": "rgb(60, 68, 77)"
                    });
                    $(".LF112-Button:hover").css({ "box-shadow": "unset" });
                    $.post("/plugin?action=a&s=GetStarAuth&name=btco",{ github: $('#BTCO-GithubNick').val() },function(rdata){
                        if(rdata.status) {
                            $('#BTCO-Install').text('æ­£åœ¨å®‰è£…');
                            $("#BTCO-Install").css({ "color": "rgb(136, 253, 141)" });
                            $(".LF112-Button:hover").css({ "box-shadow": "unset" });

                            $.post("/plugin?action=a&s=BtcoInstall&name=btco",{ github: $('#BTCO-GithubNick').val() },function(rdata){
                                if(rdata.status) {
                                    $('#BTCO-Install').text(rdata.msg);
                                    $("#BTCO-Install").css({ "color": "rgb(136, 253, 141)" });
                                    $(".LF112-Button:hover").css({ "box-shadow": "unset" });
                                    setTimeout(function(){ $(".BTCO_Wrapper").fadeOut(500); setTimeout(function(){ window.location.reload() },500) },2500)
                                    setTimeout(function () {
                                        $("#BTCO").css({display: "none"});
                                        $('#BTCO-Install').text('æ£€æŸ¥å¹¶å®‰è£…'); 
                                        $("#BTCO-Install").css({
                                            "background-color": "#6b7179",
                                            "color": "#fff"
                                        });
                                        $(".LF112-Button:hover").css({ "box-shadow": "0 0 0 1px #6b7179, 0 1px 6px #6b7179" });
                                        $('#BTCO-GithubNick').val('');
                                    }, 3000);

                                }else{
                                    $('#BTCO-Install').text(rdata.msg);
                                    $("#BTCO-Install").css({ "color": "rgb(253, 136, 136)" });
                                    setTimeout(function(){
                                        $('#BTCO-Install').text('æ£€æŸ¥å¹¶å®‰è£…'); 
                                        $("#BTCO-Install").css({
                                            "background-color": "#6b7179",
                                            "color": "#fff"
                                        });
                                        $(".LF112-Button:hover").css({ "box-shadow": "0 0 0 1px #6b7179, 0 1px 6px #6b7179" });
                                    },1500) 
                                }
                            });

                        } else {
                            if(/å‡ºé”™/i.test(rdata.msg)){
                                $('#BTCO-Install').text('è¯·æ±‚å¤±è´¥');
                                layer.msg('æŠ±æ­‰ï¼æ’ä»¶æ— æ³•è¯·æ±‚GitHubï¼Œ</br>' +
                                'è¯·åˆ°æœ¬æ’ä»¶æ ¹ç›®å½•ä¿®æ”¹ btco_main.py æ–‡ä»¶ï¼Œ</br>' +
                                'æ‰¾åˆ° 199è¡Œ æˆ– "# è·å–GitHub Star" æ³¨é‡Šå¤„ï¼Œ</br>' +
                                'å°†è¯¥æ–¹æ³•æ›¿æ¢æˆä»¥ä¸‹å†…å®¹å¹¶åˆ·æ–°é¡µé¢å³å¯ã€‚</br></br>' +
                                '   def GetStar(self, Github):</br>' +
                                '       return True</br></br>' +
                                'æ³¨æ„ç¼©è¿›ï¼å¦å¤–ï¼Œæ›¿æ¢æ—¢ä»£è¡¨æœ¬æ’ä»¶æ— æ³•æ£€æµ‹Star</br>' +
                                'ä½†è¿˜æ˜¯å¸Œæœ›æ‚¨èƒ½ä¿ç•™å¯¹æœ¬é¡¹ç›®çš„Starï¼Œ</br>' +
                                'è¿™å°†æ˜¯ç»§ç»­åˆ¶ä½œè¯¥æ’ä»¶çš„åŠ¨åŠ›ã€‚'
                                , {time: 0})
                                setTimeout(function(){ alert('è¯·æ³¨æ„ç¼©è¿›ï¼\n\n  def GetStar(self, Github):\n        return True') },500)
                            }
                            $('#BTCO-Install').text(rdata.msg);
                            $("#BTCO-Install").css({ "color": "rgb(253, 136, 136)" });
                            setTimeout(function(){
                                $('#BTCO-Install').text('æ£€æŸ¥å¹¶å®‰è£…'); 
                                $("#BTCO-Install").css({
                                    "background-color": "#6b7179",
                                    "color": "#fff"
                                });
                                $(".LF112-Button:hover").css({ "box-shadow": "0 0 0 1px #6b7179, 0 1px 6px #6b7179" });
                            },1500)
                        }
                        return;
                    });

                });
            }else {

                $("#BTCO").css({display: "block"});
                $(".BTCO_Wrapper").fadeIn(500);
            }
        }

    });
    
</script>